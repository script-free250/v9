<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple of Fortune | Hack</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø®Ø§ØµØ© Ø¨Ø´Ø¨ÙƒØ© Ø§Ù„ØªÙØ§Ø­ */
        .game-area {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid #333;
            margin: 20px 0;
            position: relative;
        }

        .apple-grid {
            display: flex;
            flex-direction: column-reverse; /* Ù„ØªØ¨Ø¯Ø£ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ù„Ø£Ø¹Ù„Ù‰ */
            gap: 8px;
        }

        .row {
            display: flex;
            justify-content: space-between;
            gap: 8px;
            padding: 4px;
            border-radius: 6px;
            transition: 0.3s;
        }

        .row.active-row {
            background: rgba(255, 255, 255, 0.05);
            border: 1px dashed rgba(255, 255, 255, 0.2);
        }

        .cell {
            flex: 1;
            height: 45px;
            background: radial-gradient(circle, #2a2a2a 0%, #111 100%);
            border: 1px solid #333;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© */
        .apple-icon {
            width: 24px;
            height: 24px;
            fill: #444;
            transition: 0.4s;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø³Ù„ÙŠÙ…Ø© (Hack Result) */
        .cell.safe {
            background: linear-gradient(135deg, rgba(0, 255, 65, 0.2), rgba(0, 50, 10, 0.4));
            border-color: var(--hacker-green);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.3), inset 0 0 10px rgba(0, 255, 65, 0.1);
            transform: scale(1.05);
            z-index: 10;
        }

        .cell.safe .apple-icon {
            fill: #fff; /* Ù‚Ù„Ø¨ Ø§Ù„ØªÙØ§Ø­Ø© Ø£Ø¨ÙŠØ¶ */
            filter: drop-shadow(0 0 5px var(--hacker-green));
            animation: applePulse 1s infinite alternate;
        }
        
        /* Ø¥Ø¶Ø§ÙØ© ÙˆØ±Ù‚Ø© Ø®Ø¶Ø±Ø§Ø¡ Ù„Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø³Ù„ÙŠÙ…Ø© */
        .cell.safe::after {
            content: "âœ”";
            position: absolute;
            font-size: 10px;
            top: 2px;
            right: 2px;
            color: var(--hacker-green);
            font-weight: bold;
        }

        @keyframes applePulse {
            0% { transform: scale(1); filter: drop-shadow(0 0 5px var(--hacker-green)); }
            100% { transform: scale(1.1); filter: drop-shadow(0 0 12px var(--hacker-green)); }
        }

        .info-bar {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 10px;
            font-family: 'Fira Code';
        }

        /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… */
        .back-float {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #fff;
            text-decoration: none;
            background: rgba(255,255,255,0.1);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: 0.3s;
        }
        .back-float:hover { background: var(--danger-red); }

    </style>
</head>
<body>
    
    <div class="live-counter" id="liveCounter">Live: ...</div>
    
    <a href="app.html" class="back-float">ğŸ”™ Ø®Ø±ÙˆØ¬</a>

    <div class="container">
        <img src="11zon_cropped.png" alt="Apple Hack" class="pro-logo" style="width: 100px;">
        
        <h2 style="margin-bottom: 5px;">APPLE HACK</h2>
        <div class="info-bar">
            <span>Server: <span style="color:var(--hacker-green);">CONNECTED</span></span>
            <span>Game: Apple of Fortune</span>
        </div>

        <div class="game-area">
            <div class="apple-grid" id="gridContainer">
                </div>
        </div>

        <button id="hackBtn" onclick="runHack()">âš¡ ÙƒØ´Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¢Ù…Ù†</button>
        <button class="secondary-btn" onclick="resetGrid()">ğŸ”„ ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø´Ø¨ÙƒØ©</button>

        <p style="font-size: 0.75rem; color: #555; margin-top: 15px; direction: ltr; font-family: 'Fira Code';">
            SCRIPT_VER: 9.5 | BYPASS: ACTIVE
        </p>
    </div>

    <script>
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        if (!localStorage.getItem('isLoggedIn')) window.location.href = 'index.html';

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯
        setInterval(() => {
            document.getElementById('liveCounter').innerText = `Live: ${Math.floor(Math.random() * 50) + 300}`;
        }, 3000);

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙˆØª
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playTone(freq, type = 'sine', duration = 0.1) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        // SVG Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªÙØ§Ø­Ø©
        const appleSVG = `
            <svg viewBox="0 0 24 24" class="apple-icon">
                <path d="M12 2C12.5 2 13 2.5 13.5 3C15 1.5 17 1.5 18 2.5C19.5 4 19.5 6 18 7.5C19 8.5 20 10.5 19.5 13C19 15.5 17.5 19 12 21C6.5 19 5 15.5 4.5 13C4 10.5 5 8.5 6 7.5C4.5 6 4.5 4 6 2.5C7 1.5 9 1.5 10.5 3C11 2.5 11.5 2 12 2M12 4C11 4 10 4.5 9 5.5C10 6.5 11 7 12 7C13 7 14 6.5 15 5.5C14 4.5 13 4 12 4Z" />
            </svg>
        `;

        const gridContainer = document.getElementById('gridContainer');
        const ROWS = 10;
        const COLS = 5;

        // Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ©
        function initGrid() {
            gridContainer.innerHTML = '';
            for (let i = 0; i < ROWS; i++) {
                const row = document.createElement('div');
                row.className = 'row';
                row.id = `row-${i}`; // 0 Ù‡Ùˆ Ø§Ù„Ø£Ø³ÙÙ„ (Ø¨Ø³Ø¨Ø¨ flex-reverse)

                for (let j = 0; j < COLS; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.innerHTML = appleSVG;
                    row.appendChild(cell);
                }
                gridContainer.appendChild(row);
            }
        }

        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¸ÙŠÙ
        function resetGrid() {
            playTone(200, 'square', 0.2);
            document.querySelectorAll('.cell').forEach(c => c.classList.remove('safe'));
            document.querySelectorAll('.row').forEach(r => r.classList.remove('active-row'));
        }

        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚
        function runHack() {
            const btn = document.getElementById('hackBtn');
            if(btn.disabled) return;

            resetGrid();
            btn.disabled = true;
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...";
            
            let currentRow = 0; // Ù†Ø¨Ø¯Ø£ Ù…Ù† Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ (Ø§Ù„Ø£Ø³ÙÙ„)

            // Ø¯Ø§Ù„Ø© ØªÙƒØ±Ø§Ø±ÙŠØ© (Loop) Ù…Ø¹ ØªØ£Ø®ÙŠØ± Ø²Ù…Ù†ÙŠ
            function processRow() {
                if (currentRow >= ROWS) {
                    // Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ±Ø§Ù‚
                    btn.disabled = false;
                    btn.innerText = "âš¡ ÙƒØ´Ù Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¢Ù…Ù†";
                    playTone(800, 'square', 0.5); // Ù†ØºÙ…Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                    return;
                }

                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ
                const rowElem = document.getElementById(`row-${currentRow}`);
                rowElem.classList.add('active-row');

                // Ø§Ø®ØªÙŠØ§Ø± Ø®Ù„ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¢Ù…Ù†Ø© (Ù…Ù† 0 Ø¥Ù„Ù‰ 4)
                const randomSafeIndex = Math.floor(Math.random() * COLS);
                const safeCell = rowElem.children[randomSafeIndex];

                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„Ø¢Ù…Ù†Ø©
                safeCell.classList.add('safe');
                
                // ØªØ´ØºÙŠÙ„ ØµÙˆØª
                playTone(400 + (currentRow * 50), 'sine'); // Ø§Ù„ØªØ±Ø¯Ø¯ ÙŠØ²Ø¯Ø§Ø¯ ÙƒÙ„Ù…Ø§ ØµØ¹Ø¯Ù†Ø§

                currentRow++;
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ 400 Ù…Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©
                setTimeout(processRow, 400);
            }

            // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
            processRow();
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø´Ø¨ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        initGrid();

    </script>
</body>
</html>
